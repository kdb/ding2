!function($){"use strict";function e(e){switch(e===!0&&ddbasic.breakpoint.reset("event_masonry"),ddbasic.breakpoint.is("mobile","event_masonry")){case ddbasic.breakpoint.IN:var i=$(".js-masonry-view");i.data("masonry")&&i.masonry("destroy");break;case ddbasic.breakpoint.OUT:$(".js-masonry-view").masonry({layoutInstant:!1,itemSelector:".views-row",columnWidth:".grid-sizer",gutter:".grid-gutter",percentPosition:!0}).on("layoutComplete",function(){$(this).addClass("is-masonry-complete")})}}$(function(){var e=!1;$(window).bind("resize.ding_event_grouping",function(i){switch(ddbasic.breakpoint.is("mobile","mobile_out_reset")===ddbasic.breakpoint.OUT&&ddbasic.breakpoint.reset("event_grouping"),ddbasic.breakpoint.is("tablet","event_grouping")){case ddbasic.breakpoint.IN:if(ddbasic.breakpoint.is("mobile")===ddbasic.breakpoint.OUT){$(".view-ding-event.max-two-rows .group-row .views-row").unwrap();var n=$(".view-ding-event.max-two-rows .views-row").length,t=0;$(".view-ding-event.max-two-rows .views-row").each(function(e){t+=$(this).find(".event-list-image").length?2:1,n<=6?t>6&&$(this).addClass("hide"):n<=12?t>12&&$(this).addClass("hide"):t>18&&$(this).addClass("hide")}),$(".view-ding-event.max-two-rows .view-elements").masonry({layoutInstant:!1,itemSelector:".views-row",columnWidth:".grid-sizer",gutter:".grid-gutter",percentPosition:!0}).on("layoutComplete",function(){$(this).addClass("is-masonry-complete")}),e=!0}break;case ddbasic.breakpoint.OUT:e===!0&&$(".view-ding-event.max-two-rows .view-elements").masonry("destroy");var s,n=Drupal.settings.number_of_events,t=0,o=$(".view-ding-event.max-two-rows .view-elements-inner"),a=!1,r=!1;$(".view-ding-event.max-two-rows.frontpage-view .views-row").each(function(e){0===t&&($(o).append('<div class="first-group-row group-row"></div>'),s=$(".first-group-row")),t+=$(this).find(".event-list-image").length?2:1,n>6&&t>6&&a===!1&&($(o).append('<div class="second-group-row group-row"></div>'),s=$(".second-group-row"),t=6,t+=$(this).find(".event-list-image").length?2:1,a=!0),n>12&&t>12&&r===!1&&($(o).append('<div class="third-group-row group-row"></div>'),s=$(".third-group-row"),t=12,t+=$(this).find(".event-list-image").length?2:1,r=!0),$(s).append($(this)),n<=6?t>6&&$(this).addClass("hide"):n<=12?t>12&&$(this).addClass("hide"):t>18&&$(this).addClass("hide")}),$(".view-ding-event.max-two-rows.not-frontpage-view .views-row").each(function(e){0===t&&($(o).append('<div class="first-group-row group-row"></div>'),s=$(".first-group-row")),t+=$(this).find(".event-list-image").length?2:1,$(s).append($(this)),t>6&&$(this).addClass("hide")}),$(".view-ding-event.max-two-rows .view-elements .view-elements-inner .group-row").each(function(){var e,i=$(this).children(".views-row"),n=0,t=0,s=document.documentElement.style;i.length<4||!("flexWrap"in s)?$(this).addClass("no-flex"):($(this).addClass("flex"),i.each(function(i){$(this).children(".node-teaser").hasClass("has-image")?(n+=2,e=!0):(n+=1,e=!1),n%2==1&&e===!0?t-=1:t+=1,$(this).attr("style","order:"+t)}))})}switch(ddbasic.breakpoint.is("mobile","event_grouping_mobile")){case ddbasic.breakpoint.IN:e===!0&&$(".view-ding-event.max-two-rows .view-elements").masonry("destroy")}})}),Drupal.behaviors.ding_event_grouping={attach:function(e,i){$(".view-ding-event.max-two-rows .view-elements .view-elements-inner",e).imagesLoaded(function(){$(window).triggerHandler("resize.ding_event_grouping")})}},$(window).bind("resize.ding_event_masonry",function(i){e()}),Drupal.behaviors.ding_event_teaser_masonry={attach:function(i,n){$(".js-masonry-view",i).imagesLoaded(function(){e(!0)})}},$(function(){var e=$(".view-ding-event.max-two-rows .view-elements-inner .views-row");$(window).bind("resize.ding_view_slide",function(i){switch(ddbasic.breakpoint.is("mobile","view_slide")){case ddbasic.breakpoint.IN:for(var n=0;n<e.length;n+=2)e.slice(n,n+2).wrapAll("<div class='two-slides'></div>");$(".view-ding-event.max-two-rows .view-elements-inner").slick({arrows:!0,infinite:!1,slidesToScroll:1,slidesToShow:1}),$(".view.slide-on-mobile .view-content").slick({arrows:!0,infinite:!1,slidesToScroll:1,slidesToShow:1});break;case ddbasic.breakpoint.OUT:$(".view-ding-event.max-two-rows .view-elements-inner.slick-initialized").slick("unslick"),$(".two-slides .views-row").unwrap();var t=document.documentElement.style;(e.length>3||"flexWrap"in t)&&($(".view-ding-event.max-two-rows").removeClass("no-flex"),$(".view-ding-event.max-two-rows").addClass("flex")),$(".view.slide-on-mobile .view-content.slick-initialized").slick("unslick")}}).triggerHandler("resize.ding_view_slide")}),Drupal.behaviors.date_popup_auto_submit={attach:function(e){$(".ctools-auto-submit-full-form .form-type-date-popup input:text",e).not(".ctools-auto-submit-exclude").unbind("keydown keyup")}}}(jQuery);